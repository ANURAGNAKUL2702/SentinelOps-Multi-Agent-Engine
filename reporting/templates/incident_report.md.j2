# Incident Report: {{ report.incident_details.scenario_name or report.metadata.correlation_id }}

**Severity:** {{ report.executive_summary.severity.value }} | **Status:** {{ report.executive_summary.status.value }} | **Generated:** {{ report.metadata.generated_at.strftime('%Y-%m-%d %H:%M UTC') if report.metadata.generated_at else 'N/A' }}

---

## Executive Summary

{{ report.executive_summary.summary or "No summary available." }}

| Metric | Value |
|--------|-------|
| Affected Services | {{ report.executive_summary.affected_services }} |
| Users Impacted | {{ report.executive_summary.estimated_users_impacted }} |
| Downtime | {{ "%.1f" | format(report.executive_summary.total_downtime_minutes) }} min |
| Confidence | {{ "%.0f" | format(report.executive_summary.confidence * 100) }}% |
| Revenue Impact | ${{ "%.2f" | format(report.executive_summary.estimated_revenue_impact) }} |

---

## Root Cause Analysis

**Root Cause:** {{ report.root_cause_analysis.root_cause or "Unknown" }}

**Confidence:** {{ "%.0f" | format(report.root_cause_analysis.confidence * 100) }}% | **Validation Accuracy:** {{ "%.0f" | format(report.root_cause_analysis.validation_accuracy * 100) }}% | **Hallucinations:** {{ report.root_cause_analysis.hallucinations_detected }}

{% if report.root_cause_analysis.causal_chain %}
### Causal Chain

{% for step in report.root_cause_analysis.causal_chain %}
{{ loop.index }}. {{ step }}
{% endfor %}
{% endif %}

{% if report.root_cause_analysis.evidence_trail %}
### Evidence Trail

| Source | Type | Description | Confidence |
|--------|------|-------------|------------|
{% for e in report.root_cause_analysis.evidence_trail %}
| {{ e.get('source','') }} | {{ e.get('type','') }} | {{ e.get('description','') }} | {{ e.get('confidence','') }} |
{% endfor %}
{% endif %}

{% if report.root_cause_analysis.alternative_hypotheses %}
### Alternative Hypotheses

{% for h in report.root_cause_analysis.alternative_hypotheses %}
- {{ h.get('theory', h.get('root_cause','')) }} ({{ "%.0f" | format((h.get('confidence', h.get('likelihood_score', 0))) * 100) }}%)
{% endfor %}
{% endif %}

---

## Remediation Plan

{% if report.remediation_plan.runbook_title %}
### {{ report.remediation_plan.runbook_title }}
{% endif %}

{% if report.remediation_plan.runbook_steps %}
{% for s in report.remediation_plan.runbook_steps %}
{{ loop.index }}. {{ s }}
{% endfor %}
{% endif %}

{% if report.remediation_plan.action_items %}
### Action Items

| Priority | Description | Owner | Est. Time |
|----------|-------------|-------|-----------|
{% for a in report.remediation_plan.action_items %}
| {{ a.priority }} | {{ a.description }} | {{ a.owner }} | {{ a.estimated_minutes }}m |
{% endfor %}
{% endif %}

{% if report.remediation_plan.rollback_plan %}
**Rollback:** {{ report.remediation_plan.rollback_plan }}
{% endif %}

**Estimated Resolution:** {{ report.remediation_plan.estimated_resolution_minutes }} minutes

---

## Timeline

{% if report.timeline.events %}
| Time | Source | Event | Service | Severity |
|------|--------|-------|---------|----------|
{% for ev in report.timeline.events %}
| {{ ev.timestamp.strftime('%H:%M:%S') if ev.timestamp else '' }} | {{ ev.source }} | {{ ev.event }} | {{ ev.service }} | {{ ev.severity }} |
{% endfor %}
{% else %}
_Timeline unavailable._
{% endif %}

---

## Cost Report

| Metric | Value |
|--------|-------|
| Total Cost | ${{ "%.4f" | format(report.cost_report.total_cost) }} |
| Total Tokens | {{ report.cost_report.total_tokens }} |
| LLM Calls | {{ report.cost_report.total_llm_calls }} |

{% if report.cost_report.cost_by_agent %}
### Cost by Agent

| Agent | Cost ($) | Tokens |
|-------|----------|--------|
{% for agent, cost in report.cost_report.cost_by_agent.items() %}
| {{ agent }} | ${{ "%.6f" | format(cost) }} | {{ report.cost_report.tokens_by_agent.get(agent, 0) }} |
{% endfor %}
{% endif %}

---

## Performance Metrics

| Metric | Value |
|--------|-------|
| Pipeline Time | {{ "%.2f" | format(report.performance_metrics.total_pipeline_time) }}s |
| Parallel Speedup | {{ "%.1f" | format(report.performance_metrics.parallel_speedup) }}× |
| Timeout Violations | {{ report.performance_metrics.timeout_violations }} |
| Circuit Breaker Trips | {{ report.performance_metrics.circuit_breaker_trips }} |

{% if report.performance_metrics.agent_latencies %}
### Agent Latencies

| Agent | Latency (s) |
|-------|-------------|
{% for agent, lat in report.performance_metrics.agent_latencies.items() %}
| {{ agent }} | {{ "%.3f" | format(lat) }} |
{% endfor %}
{% endif %}

---

{% if report.recommendations %}
## Recommendations

{% for rec in report.recommendations %}
- **[{{ rec.category }}]** {{ rec.description }}
{% endfor %}
{% endif %}

---

_Report generated by Autonomous War-Room Simulator v{{ report.metadata.report_version }} — Report ID: {{ report.metadata.report_id }}_
