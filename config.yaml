# ============================================================
#  Autonomous War-Room Simulator — Central Configuration
# ============================================================
# Override any value via environment variables prefixed with
# WARROOM_  (see integration/config_manager.py for the mapping).
# ============================================================

system:
  project_name: "Autonomous War-Room Simulator"
  version: "1.0.0"
  log_level: "INFO"                    # DEBUG | INFO | WARNING | ERROR
  correlation_id_header: "X-Correlation-ID"

# ------------------------------------------------------------------
# Simulation engine (Phases 1-3)
# ------------------------------------------------------------------
simulation:
  default_scenario: "database_timeout"
  available_scenarios:
    - memory_leak
    - cpu_spike
    - database_timeout
    - network_latency
  duration_minutes: 30
  metrics_interval_seconds: 60
  log_interval_seconds: 30
  random_seed: null                    # null → random, integer → reproducible

# ------------------------------------------------------------------
# Observability layer (Phase 4)
# ------------------------------------------------------------------
observability:
  log_generation:
    base_rate: 100
    error_spike_multiplier: 5
  metrics_collection:
    interval_seconds: 10
    retention_points: 100
  dependency_graph:
    max_depth: 5
    include_external_services: true

# ------------------------------------------------------------------
# AI agents (Phases 5-11)
# ------------------------------------------------------------------
agents:
  log_agent:
    timeout_seconds: 5.0
    enable_fallback: true
    min_confidence: 0.6
  metrics_agent:
    timeout_seconds: 5.0
    enable_fallback: true
    baseline_window_minutes: 60
  dependency_agent:
    timeout_seconds: 5.0
    enable_fallback: true
    max_blast_radius_hops: 3
  hypothesis_agent:
    timeout_seconds: 10.0
    enable_fallback: true
    max_hypotheses: 5
    enable_llm: false
  root_cause_agent:
    timeout_seconds: 10.0
    enable_fallback: true
    min_confidence: 0.7
    enable_llm: false
  validation_agent:
    timeout_seconds: 8.0
    enable_fallback: true
    accuracy_threshold: 0.85
  incident_commander_agent:
    timeout_seconds: 8.0
    enable_fallback: true
    min_action_items: 3

# ------------------------------------------------------------------
# Orchestrator (Phase 12)
# ------------------------------------------------------------------
orchestrator:
  pipeline_timeout_seconds: 60.0
  enable_parallel_execution: true
  fail_fast: false
  max_retries: 2
  circuit_breaker:
    failure_threshold: 3
    timeout_seconds: 30.0
    half_open_max_calls: 1
  retry_policy:
    backoff_multiplier: 2.0
    max_delay_seconds: 10.0

# ------------------------------------------------------------------
# Reporting & analysis (Phase 13 / reporting layer)
# ------------------------------------------------------------------
reporting:
  default_formats:
    - html
    - json
  output_directory: "reports"
  include_visualizations: true
  include_cost_breakdown: true
  enable_ai_insights: false
  database:
    url: "sqlite:///incidents.db"
    enable: true
    retention_days: 90
  templates_directory: "reporting/templates"
  chart_theme: "light"

# ------------------------------------------------------------------
# REST API (optional)
# ------------------------------------------------------------------
api:
  enabled: false
  host: "0.0.0.0"
  port: 8000
  enable_cors: true
  cors_origins:
    - "*"

# ------------------------------------------------------------------
# LLM provider
# ------------------------------------------------------------------
llm:
  provider: "groq"
  groq:
    api_key_env_var: "GROQ_API_KEY"
    model: "llama-3.3-70b-versatile"
    temperature: 0.7
    max_tokens: 2000
  cost_tracking:
    input_cost_per_1k_tokens: 0.00005
    output_cost_per_1k_tokens: 0.00008
